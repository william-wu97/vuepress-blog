(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{436:function(t,e,_){"use strict";_.r(e);var r=_(1),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("blockquote",[_("p",[t._v("本文转载自："),_("a",{attrs:{href:"https://juejin.cn/post/7004387911202242568",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Vue2 VS Vue3 】- 浅析"),_("OutboundLink")],1)])]),t._v(" "),_("h2",{attrs:{id:"一、vue2的局限性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一、vue2的局限性"}},[t._v("#")]),t._v(" 一、Vue2的局限性")]),t._v(" "),_("ul",[_("li",[_("strong",[t._v("组件逻辑膨胀导致的可读性变差")])]),t._v(" "),_("li",[t._v("无法跨组件"),_("strong",[t._v("重用代码")])]),t._v(" "),_("li",[t._v("Vue2对TS的支持有限")])]),t._v(" "),_("p",[t._v("在传统的OptionsAPI中我们需要将逻辑分散到以下六个部分")]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[t._v("OptionsAPI\n\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   components\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   props\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   data\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   computed\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   methods\n"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("   lifecycle methods\n")])])]),_("p",[t._v("这样会是我们编辑一个逻辑不得不在代码中反复横跳")]),t._v(" "),_("h2",{attrs:{id:"二、vue2-跨组件重用代码的解决方法（不好用）"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、vue2-跨组件重用代码的解决方法（不好用）"}},[t._v("#")]),t._v(" 二、Vue2 - 跨组件重用代码的解决方法（不好用）")]),t._v(" "),_("ol",[_("li",[t._v("混入mixin（有问题）")]),t._v(" "),_("li",[t._v("作用域插槽slot (缺点多)")]),t._v(" "),_("li",[t._v("高阶组件（太复杂）")])]),t._v(" "),_("h2",{attrs:{id:"三、代码重用方法pk"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、代码重用方法pk"}},[t._v("#")]),t._v(" 三、代码重用方法PK")]),t._v(" "),_("blockquote",[_("p",[t._v("Vue2中的跨组件重用代码，我们大概会有"),_("strong",[t._v("四个选择")]),t._v("。")])]),t._v(" "),_("h3",{attrs:{id:"_3-1）-mixin-混入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1）-mixin-混入"}},[t._v("#")]),t._v(" 3.1） Mixin - 混入")]),t._v(" "),_("p",[t._v("代码混入其实就是设计模式中的"),_("strong",[t._v("混合模式")]),t._v("，缺点也非常明显。")]),t._v(" "),_("p",[t._v("可以理解为"),_("strong",[t._v("多重继承")]),t._v("，简单的说就是一个人如何有两个父亲")]),t._v(" "),_("p",[t._v("❌无法避免属性名冲突 - 长鼻子随谁")]),t._v(" "),_("p",[t._v("❌继承关系不清晰")]),t._v(" "),_("h3",{attrs:{id:"_3-2-mixin-factory-混入工厂"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-mixin-factory-混入工厂"}},[t._v("#")]),t._v(" 3.2)  Mixin Factory - 混入工厂")]),t._v(" "),_("p",[t._v("✅代码重用方便")]),t._v(" "),_("p",[t._v("✅继承关系清洗")]),t._v(" "),_("h3",{attrs:{id:"_3-3-scopeslots-作用域插槽"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-scopeslots-作用域插槽"}},[t._v("#")]),t._v(" 3.3) ScopeSlots - 作用域插槽")]),t._v(" "),_("ul",[_("li",[t._v("❌可读性不高")]),t._v(" "),_("li",[t._v("❌配置复杂 - 需要再模板中进行配置")]),t._v(" "),_("li",[t._v("❌性能低 - 每个插槽相当于一个实例")])]),t._v(" "),_("h3",{attrs:{id:"_3-4-compositionapi-复合api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-compositionapi-复合api"}},[t._v("#")]),t._v(" 3.4) CompositionApi - 复合API")]),t._v(" "),_("ul",[_("li",[t._v("✅代码量少")]),t._v(" "),_("li",[t._v("✅没有引入新的语法，只是单纯函数")]),t._v(" "),_("li",[t._v("✅异常灵活")]),t._v(" "),_("li",[t._v("✅工具语法提示友好 - 因为是单纯函数所以 很容易实现语法提示、自动补偿")])]),t._v(" "),_("h2",{attrs:{id:"四、如何使用-composition-api解决问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四、如何使用-composition-api解决问题"}},[t._v("#")]),t._v(" 四、如何使用 Composition API解决问题")]),t._v(" "),_("p",[t._v("最佳的解决方法是将逻辑聚合就可以很好的代码可读性。")]),t._v(" "),_("blockquote",[_("p",[t._v("这就是我们的CompositionAPI语法能够实现的功能。CompositionAPI是一个完全可选的语法与原来的OptionAPI并没有冲突之处。他可以让我们将相同功能的代码组织在一起，而不需要散落到optionsAPI的各个角落。")])]),t._v(" "),_("h2",{attrs:{id:"五、lifecyclehooks-生命周期钩子"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#五、lifecyclehooks-生命周期钩子"}},[t._v("#")]),t._v(" 五、LifecycleHooks - 生命周期钩子")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Vue2")]),t._v(" "),_("th",[t._v("Vue3")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("beforeCreate")]),t._v(" "),_("td",[t._v("❌setup(替代)")])]),t._v(" "),_("tr",[_("td",[t._v("created")]),t._v(" "),_("td",[t._v("❌setup(替代)")])]),t._v(" "),_("tr",[_("td",[t._v("beforeMount")]),t._v(" "),_("td",[t._v("onBeforeMount")])]),t._v(" "),_("tr",[_("td",[t._v("mounted")]),t._v(" "),_("td",[t._v("onMounted")])]),t._v(" "),_("tr",[_("td",[t._v("beforeUpdate")]),t._v(" "),_("td",[t._v("onBeforeUpdate")])]),t._v(" "),_("tr",[_("td",[t._v("updated")]),t._v(" "),_("td",[t._v("onUpdated")])]),t._v(" "),_("tr",[_("td",[t._v("beforeDestroy")]),t._v(" "),_("td",[t._v("onBeforeUnmount")])]),t._v(" "),_("tr",[_("td",[t._v("destroyed")]),t._v(" "),_("td",[t._v("onUnmounted")])]),t._v(" "),_("tr",[_("td",[t._v("errorCaptured")]),t._v(" "),_("td",[t._v("onErrorCaptured")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("🎉onRenderTracked")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("🎉onRenderTriggered")])])])]),t._v(" "),_("h2",{attrs:{id:"六、代码层面区别：比如数据监听方式的实现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#六、代码层面区别：比如数据监听方式的实现"}},[t._v("#")]),t._v(" 六、代码层面区别：比如数据监听方式的实现")]),t._v(" "),_("p",[_("img",{staticClass:"lazy",attrs:{alt:"1","data-src":"/vuepress-blog/img/post/2021-09-22-06/1.awebp",loading:"lazy"}})]),t._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),_("blockquote",[_("p",[t._v("关注更多Vue2 VS Vue3 请查看下方链接")])]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://juejin.cn/post/6909247394904702984",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue3官方教程 同步导学视频"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://juejin.cn/post/6898120355781705736",target:"_blank",rel:"noopener noreferrer"}},[t._v("写的特别好：Vue2 VS Vue3"),_("OutboundLink")],1)])]),t._v(" "),_("h2",{attrs:{id:"总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),_("ul",[_("li",[t._v("Vue2到3 代码分散 -> 代码聚合")]),t._v(" "),_("li",[t._v("跨组件重用代码通过Composition")])])])}),[],!1,null,null,null);e.default=a.exports}}]);