(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{451:function(t,s,e){"use strict";e.r(s);var a=e(1),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("本文转载自："),e("a",{attrs:{href:"https://juejin.cn/post/6917548766287364110",target:"_blank",rel:"noopener noreferrer"}},[t._v("我想，也许以后不用再烦恼Vue项目的代码格式化问题了"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("先介绍下背景：最近，准备开始搞新的项目，是基于Vue的后台管理系统。")]),t._v(" "),e("p",[t._v("然后，在开发的时候，发现我的Vue代码中的模板部分总是按照属性自动换行，试了网上很多方式都搞不定，而我又难以接受这种样式，因此决心非给他整明白不可。")]),t._v(" "),e("p",[t._v("这是让我恼火的样式")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"1","data-src":"/vuepress-blog/img/post/2022-01-18-02/1.awebp",loading:"lazy"}})]),t._v(" "),e("p",[t._v("这是我最终的效果")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"2","data-src":"/vuepress-blog/img/post/2022-01-18-02/2.awebp",loading:"lazy"}})]),t._v(" "),e("p",[t._v("从我接手这台电脑的时候，我的vscode编辑器是已经安装了"),e("code",[t._v("eslint")]),t._v(","),e("code",[t._v("prettier")]),t._v(","),e("code",[t._v("vetur")]),t._v("等一些“必备的”插件。而根据我对这些插件的一点点了解，我知道这三个插件都有格式化代码的作用，只是出于对这几个插件认知不够，先放着。")]),t._v(" "),e("p",[t._v("接着，根据网上的一些"),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fsegmentfault.com%2Fq%2F1010000012350078",target:"_blank",rel:"noopener noreferrer"}},[t._v("前辈经验"),e("OutboundLink")],1),t._v("，我了解到，"),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fvuejs.github.io%2Fvetur%2Fguide%2Fformatting.html%23settings",target:"_blank",rel:"noopener noreferrer"}},[t._v("vetur"),e("OutboundLink")],1),t._v(" 有一些属性可以格式template模板代码，"),e("code",[t._v("vetur.format.defaultFormatterOptions")]),t._v("，"),e("code",[t._v("vetur.format.defaultFormatter.html")]),t._v("，但参考设置了之后，发现效果不对，怀疑是 "),e("code",[t._v("prettier")]),t._v("冲突导致，所以我选择禁用"),e("code",[t._v("prettier")]),t._v("后在测试。果然，禁用之后，虽然效果还是不对，但已经可以通过属性"),e("code",[t._v("wrap_attributes")]),t._v("控制了，查看"),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvetur%2Fblob%2Fmaster%2Fserver%2Fsrc%2Fmodes%2Ftemplate%2Fservices%2FhtmlFormat.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("wrap_attributes"),e("OutboundLink")],1),t._v("源码可以发现，有些值已经无效了。所以，万一你设置的值没有效果，也许是因为插件不在接受了。经过测试，这里我发下我的配置项"),e("code",[t._v("setting.json")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vetur.format.defaultFormatterOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"js-beautify-html"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wrap_attributes"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vetur.format.defaultFormatter.html"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"js-beautify-html"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vetur.format.defaultFormatter.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vscode-typescript"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 控制换行的方式，取可视区宽度和编辑器设置折行列中较小值")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"editor.wordWrap"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bounded"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置编辑器的换行最小列数")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"editor.wordWrapColumn"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认的格式化程序")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[vue]"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"editor.defaultFormatter"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octref.vetur"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])]),e("p",[t._v("结论：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("prettier")]),t._v("插件已经不需要了，可以卸载了")]),t._v(" "),e("li",[t._v("设置好编辑器的换行方式和最小换行列数")]),t._v(" "),e("li",[t._v("设置"),e("code",[t._v("vuter")]),t._v("的格式化属性")])])])}),[],!1,null,null,null);s.default=r.exports}}]);