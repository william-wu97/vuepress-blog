(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{416:function(t,e,a){"use strict";a.r(e);var n=a(1),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#问题："}},[t._v("问题：")])]),a("li",[a("a",{attrs:{href:"#解决办法：延时执行"}},[t._v("解决办法：延时执行")])]),a("li",[a("a",{attrs:{href:"#参考资料"}},[t._v("参考资料")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"问题："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题："}},[t._v("#")]),t._v(" 问题：")]),t._v(" "),a("p",[t._v("安卓机上，onShow里面使用getClipboardData不是每一次都能获取到内容，而是空字符串")]),t._v(" "),a("h2",{attrs:{id:"解决办法：延时执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法：延时执行"}},[t._v("#")]),t._v(" 解决办法：延时执行")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// ContentUtils.js\nfunction getClipboardData() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      wx.getClipboardData({\n        success: res => resolve(res.data),\n        fail: reject\n      });\n    }, 100);\n  })\n}\n\n// Page\nPage({\n  ... ...\n  onShow() {\n    ContentUtils.getClipboardData().then(data => {\n      console.log(data); // Clipboard data.\n    });\n  }\n  ... ...\n})\n")])])]),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://developers.weixin.qq.com/community/develop/doc/000a6c52f7cb0831337b49ee156000",target:"_blank",rel:"noopener noreferrer"}},[t._v("安卓机上getClipboardData不是每一次都能获取内容？"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developers.weixin.qq.com/community/develop/doc/0004a8b55b8ff042352ab0f0e54400",target:"_blank",rel:"noopener noreferrer"}},[t._v("getClipboardData经常获取不到啊？"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);