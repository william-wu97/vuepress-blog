(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{472:function(s,t,e){"use strict";e.r(t);var a=e(1),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("本文转载自："),e("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1961001",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mac OS Homebrew更换国内镜像源（中科大;阿里;清华）"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("Homebrew官方的源一般下载包之类的会很慢，所以通常我们都是用国内的镜像源来代替，这样会提高我们的效率。"),e("br"),s._v("\nHomebrew主要有四个部分组成: brew、homebrew-core 、homebrew-bottles、homebrew-cask。")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("名称                    说明\nbrew            Homebrew 源代码仓库\nhomebrew-core    Homebrew 核心软件仓库\nhomebrew-bottles    Homebrew 预编译二进制软件包\nhomebrew-cask    MacOS 客户端应用\n")])])]),e("p",[s._v("Homebrew国内镜像源目前主要有中科大镜像、阿里镜像、清华镜像。"),e("br"),s._v("\n首先查看自己本地的镜像源地址是什么，在命令行输入以下命令可以查询：")]),s._v(" "),e("h3",{attrs:{id:"_1-查看-brew-git-当前源："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看-brew-git-当前源："}},[s._v("#")]),s._v(" 1.查看 brew.git 当前源：")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v\n结果：\norigin  https://mirrors.ustc.edu.cn/brew.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin  https://mirrors.ustc.edu.cn/brew.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("h3",{attrs:{id:"_2-查看-homebrew-core-git-当前源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看-homebrew-core-git-当前源"}},[s._v("#")]),s._v(" 2.查看 homebrew-core.git 当前源")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo homebrew/core"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v\n结果：\norigin  https://mirrors.ustc.edu.cn/homebrew-core.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin  https://mirrors.ustc.edu.cn/homebrew-core.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("p",[s._v("这是我更换了的镜像源，如果没更换，提示如下：")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".查看 brew.git 当前源输出\norigin    https://github.com/Homebrew/brew.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin    https://github.com/Homebrew/brew.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".查看 homebrew-core.git 当前源输出\norigin    https://github.com/Homebrew/homebrew-core.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin    https://github.com/Homebrew/homebrew-core.git "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("p",[s._v("如果是Github的，这里建议更换："),e("br"),s._v("\n切换 Homebrew 镜像源为中科大镜像源")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".替换brew.git:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://mirrors.ustc.edu.cn/brew.git\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".替换homebrew-core.git:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/Library/Taps/homebrew/homebrew-core"')]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".替换homebrew-cask.git:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/Library/Taps/homebrew/homebrew-cask"')]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git\n")])])]),e("p",[s._v("zsh 替换homebrew-bottles镜像，Mac OS在10.15系统开始，默认的shell都换成了zsh")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export HOMEBREW_BOTTLE_DOMAIN=\nhttps://mirrors.ustc.edu.cn/homebrew-bottles'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n")])])]),e("p",[s._v("修改使其立即生效：")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.zshrc\n")])])]),e("p",[s._v("bash 替换homebrew-bottles镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export HOMEBREW_BOTTLE_DOMAIN=\nhttps://mirrors.ustc.edu.cn/homebrew-bottles'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n")])])]),e("p",[s._v("修改使其立即生效：")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("brew update\n")])])]),e("p",[s._v("这里还可以替换成其他的源，比如阿里，清华等。"),e("br"),s._v("\n如果要换回官方镜像源，可以如下操作；")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".重置 brew.git 为官方源:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://github.com/Homebrew/brew.git\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".重置 homebrew-core.git 为官方源:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/Library/Taps/homebrew/homebrew-core"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://github.com/Homebrew/homebrew-core.git\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".重置 homebrew-cask.git 为官方源:\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --repo"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/Library/Taps/homebrew/homebrew-cask"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin https://github.com/Homebrew/homebrew-cask\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".zsh 注释掉 HOMEBREW_BOTTLE_DOMAIN 配置，前面加"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#符号就行")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" ~/.zshrc\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export HOMEBREW_BOTTLE_DOMAIN=xxxxxxxxx")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".修改使其立即生效\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.zshrc\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".刷新源\nbrew update\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);