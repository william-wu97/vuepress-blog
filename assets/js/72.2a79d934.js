(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{460:function(t,e,r){"use strict";r.r(e);var a=r(1),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("blockquote",[r("p",[t._v("本文转载自："),r("a",{attrs:{href:"https://sekibetu.com/sniff01.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("抓取安卓端FGO游戏数据并导入素材规划软件Chaldea教程(需解锁BootLoader)"),r("OutboundLink")],1)])]),t._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#第一步"}},[t._v("第一步")])]),r("li",[r("a",{attrs:{href:"#第二步"}},[t._v("第二步")])]),r("li",[r("a",{attrs:{href:"#第三步"}},[t._v("第三步")])]),r("li",[r("a",{attrs:{href:"#第四步"}},[t._v("第四步")])]),r("li",[r("a",{attrs:{href:"#第五步"}},[t._v("第五步")])]),r("li",[r("a",{attrs:{href:"#第六步"}},[t._v("第六步")])])])]),r("p"),t._v(" "),r("p",[t._v("更新 Android 12 系统之后，证书不让安装为 root 证书了，SSL Pinning 也来了，老办法抓不到数据了，于是经过一番摸索，写下了本文，本文理论上适用于所有 APP，不仅仅是 FGO")]),t._v(" "),r("h2",{attrs:{id:"第一步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[t._v("#")]),t._v(" 第一步")]),t._v(" "),r("ul",[r("li",[t._v("参照以下文章安装 "),r("a",{attrs:{href:"https://github.com/topjohnwu/Magisk/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Magisk"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://sekibetu.com/magisk01.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sekibetu.com/magisk01.html"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"第二步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第二步"}},[t._v("#")]),t._v(" 第二步")]),t._v(" "),r("ul",[r("li",[t._v("参照以下文章的第二步，在 "),r("a",{attrs:{href:"https://github.com/topjohnwu/Magisk/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Magisk"),r("OutboundLink")],1),t._v(" 中刷入对应 Zygisk 版本的 "),r("a",{attrs:{href:"https://github.com/LSPosed/LSPosed/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("LSPosed"),r("OutboundLink")],1),t._v(" 框架")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://sekibetu.com/tiktok01.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sekibetu.com/tiktok01.html"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"第三步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第三步"}},[t._v("#")]),t._v(" 第三步")]),t._v(" "),r("ul",[r("li",[t._v("下载 "),r("a",{attrs:{href:"https://github.com/SekiBetu/MagiskTrustUserCerts/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("MagiskTrustUserCerts"),r("OutboundLink")],1),t._v(" 并在 "),r("a",{attrs:{href:"https://github.com/topjohnwu/Magisk/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Magisk"),r("OutboundLink")],1),t._v(" 中刷入")]),t._v(" "),r("li",[t._v("重启手机")])]),t._v(" "),r("h2",{attrs:{id:"第四步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第四步"}},[t._v("#")]),t._v(" 第四步")]),t._v(" "),r("ul",[r("li",[t._v("安装 "),r("a",{attrs:{href:"https://github.com/SekiBetu/JustTrustMe/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("JustTrustMe"),r("OutboundLink")],1),t._v(" 模块(用来绕过 SSL Pinning)，并在 "),r("a",{attrs:{href:"https://github.com/LSPosed/LSPosed/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("LSPosed"),r("OutboundLink")],1),t._v(" 中启用，模块作用域指定为 FGO")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"1","data-src":"/vuepress-blog/img/post/2022-08-14-01/1.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"2","data-src":"/vuepress-blog/img/post/2022-08-14-01/2.webp",loading:"lazy"}})]),t._v(" "),r("h2",{attrs:{id:"第五步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第五步"}},[t._v("#")]),t._v(" 第五步")]),t._v(" "),r("ul",[r("li",[t._v("下载安装 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 或 "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("启动 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 或 "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1),t._v(" 并进行一些基础设置，以下是 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 的基础设置， "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1),t._v(" 并不需要特别设置即可使用，我是通过 "),r("code",[t._v("python")]),t._v(" 的 "),r("code",[t._v("pip install mitmproxy")]),t._v(" 安装的，所以直接在命令行输入 "),r("code",[t._v("mitmweb")]),t._v(" 启动")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"3","data-src":"/vuepress-blog/img/post/2022-08-14-01/3.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"4","data-src":"/vuepress-blog/img/post/2022-08-14-01/4.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("通过 "),r("code",[t._v("ipconfig")]),t._v(" 程序找到你的本地局域网 IPv4 地址")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"5","data-src":"/vuepress-blog/img/post/2022-08-14-01/5.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("将其填入手机 WLAN 中的代理设置并保存，端口号为 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 或 "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1),t._v(" 的代理端口，默认为 "),r("code",[t._v("8888")]),t._v(" 和 "),r("code",[t._v("8080")])])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"6","data-src":"/vuepress-blog/img/post/2022-08-14-01/6.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"7","data-src":"/vuepress-blog/img/post/2022-08-14-01/7.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("使用手机浏览器访问上述 IP 与端口并点击 "),r("code",[t._v("FiddlerRoot certificate")]),t._v(" 下载 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 的证书")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"8","data-src":"/vuepress-blog/img/post/2022-08-14-01/8.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"9","data-src":"/vuepress-blog/img/post/2022-08-14-01/9.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("或访问 "),r("a",{attrs:{href:"https://sekibetu.com/mitm.it",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitm.it"),r("OutboundLink")],1),t._v(" 下载 "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1),t._v(" 的证书")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"10","data-src":"/vuepress-blog/img/post/2022-08-14-01/10.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"11","data-src":"/vuepress-blog/img/post/2022-08-14-01/11.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[r("p",[t._v("从系统设置中安装下载好的证书，以小米的 MIUI 系统为例，在 "),r("code",[t._v("设置")]),t._v(" — "),r("code",[t._v("密码与安全")]),t._v(" — "),r("code",[t._v("系统安全")]),t._v(" — "),r("code",[t._v("加密与凭证")]),t._v(" — "),r("code",[t._v("安装证书")]),t._v(" — "),r("code",[t._v("CA证书")])])]),t._v(" "),r("li",[r("p",[t._v("安装完证书重启手机，第三步中的证书提权模块 "),r("a",{attrs:{href:"https://github.com/SekiBetu/MagiskTrustUserCerts/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("MagiskTrustUserCerts"),r("OutboundLink")],1),t._v(" 会在重启的过程中将安装完的用户证书复制到 root 证书目录以提权")])])]),t._v(" "),r("h2",{attrs:{id:"第六步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第六步"}},[t._v("#")]),t._v(" 第六步")]),t._v(" "),r("ul",[r("li",[t._v("登录 FGO 使 "),r("a",{attrs:{href:"https://www.telerik.com/download/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fiddler Classic"),r("OutboundLink")],1),t._v(" 或 "),r("a",{attrs:{href:"https://mitmproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitmproxy"),r("OutboundLink")],1),t._v(" 抓到用户的数据")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"12","data-src":"/vuepress-blog/img/post/2022-08-14-01/12.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("国服一般会在 "),r("code",[t._v("line3-s2-bili-fate.bilibiligame.net/rongame_beta/rgfate/60_1001/ac.php")]),t._v(" 这样的路径抓到一个大小较大的包，保存抓到的数据的 Response Body")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"13","data-src":"/vuepress-blog/img/post/2022-08-14-01/13.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"14","data-src":"/vuepress-blog/img/post/2022-08-14-01/14.webp",loading:"lazy"}})]),t._v(" "),r("ul",[r("li",[t._v("将数据导入 "),r("a",{attrs:{href:"https://github.com/chaldea-center/chaldea/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chaldea"),r("OutboundLink")],1),t._v(" 就可以愉快地规划素材刷取了")])]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"15","data-src":"/vuepress-blog/img/post/2022-08-14-01/15.webp",loading:"lazy"}})]),t._v(" "),r("p",[r("img",{staticClass:"lazy",attrs:{alt:"16","data-src":"/vuepress-blog/img/post/2022-08-14-01/16.webp",loading:"lazy"}})])])}),[],!1,null,null,null);e.default=s.exports}}]);