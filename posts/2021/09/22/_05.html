<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3ç»„ä»¶é€šä¿¡æ€»ç»“ | William Wu&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/vuepress-blog/img/favicon.ico">
    <meta name="description" content="William Wuçš„åšå®¢">
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.37fe6c2b.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.6e00fe84.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/7.2d53fe4f.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/45.4ee86323.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/1.f7ee9676.js"><link rel="prefetch" href="/vuepress-blog/assets/js/10.b4107c20.js"><link rel="prefetch" href="/vuepress-blog/assets/js/100.3e28addf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/101.78435e54.js"><link rel="prefetch" href="/vuepress-blog/assets/js/102.4ee27135.js"><link rel="prefetch" href="/vuepress-blog/assets/js/103.859a6a44.js"><link rel="prefetch" href="/vuepress-blog/assets/js/104.6b1a5b52.js"><link rel="prefetch" href="/vuepress-blog/assets/js/105.f600bf77.js"><link rel="prefetch" href="/vuepress-blog/assets/js/106.425c2372.js"><link rel="prefetch" href="/vuepress-blog/assets/js/107.ee0cb1e7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/108.b2e6bffc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/109.97ce0ea4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/11.94b39620.js"><link rel="prefetch" href="/vuepress-blog/assets/js/110.d65b4011.js"><link rel="prefetch" href="/vuepress-blog/assets/js/111.28dfa48c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/112.6d74b466.js"><link rel="prefetch" href="/vuepress-blog/assets/js/113.0ca4f5d9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/114.a9a1fe16.js"><link rel="prefetch" href="/vuepress-blog/assets/js/115.1fd807d9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/116.70a3ae35.js"><link rel="prefetch" href="/vuepress-blog/assets/js/117.276332b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/118.d3bf4413.js"><link rel="prefetch" href="/vuepress-blog/assets/js/119.21b2b555.js"><link rel="prefetch" href="/vuepress-blog/assets/js/12.403f835f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/120.9ac96a53.js"><link rel="prefetch" href="/vuepress-blog/assets/js/121.ee19205b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/122.ac5a4182.js"><link rel="prefetch" href="/vuepress-blog/assets/js/123.f74bd9d9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/124.f0aae912.js"><link rel="prefetch" href="/vuepress-blog/assets/js/125.75f6477a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/126.b3de6604.js"><link rel="prefetch" href="/vuepress-blog/assets/js/127.4de40117.js"><link rel="prefetch" href="/vuepress-blog/assets/js/128.69d929a3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/13.dea19516.js"><link rel="prefetch" href="/vuepress-blog/assets/js/14.d5c1a527.js"><link rel="prefetch" href="/vuepress-blog/assets/js/15.b2ecaf4b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/16.db40c74c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/17.8b81caf4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/18.bdbab762.js"><link rel="prefetch" href="/vuepress-blog/assets/js/19.c0cf46cf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/20.cb8775d1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/21.40219664.js"><link rel="prefetch" href="/vuepress-blog/assets/js/22.d64c780c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/23.42e15140.js"><link rel="prefetch" href="/vuepress-blog/assets/js/24.432b3fbc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/25.8c44fec8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/26.e6051055.js"><link rel="prefetch" href="/vuepress-blog/assets/js/27.fb53f0fb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/28.60bca441.js"><link rel="prefetch" href="/vuepress-blog/assets/js/29.1be7397c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/3.136ff634.js"><link rel="prefetch" href="/vuepress-blog/assets/js/30.505ce938.js"><link rel="prefetch" href="/vuepress-blog/assets/js/31.1b1fce7f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/32.21548a49.js"><link rel="prefetch" href="/vuepress-blog/assets/js/33.b51b407a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/34.355f9cce.js"><link rel="prefetch" href="/vuepress-blog/assets/js/35.9ce5fd83.js"><link rel="prefetch" href="/vuepress-blog/assets/js/36.5431a5fa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/37.5e0bb2c2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/38.ac393103.js"><link rel="prefetch" href="/vuepress-blog/assets/js/39.4b2a2262.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.5e7582dc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/40.9280b51b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/41.002b6dd7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/42.1b8e6662.js"><link rel="prefetch" href="/vuepress-blog/assets/js/43.1e8d6b7c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/44.d0b84c72.js"><link rel="prefetch" href="/vuepress-blog/assets/js/46.2cf04455.js"><link rel="prefetch" href="/vuepress-blog/assets/js/47.0ddfc35c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/48.86befbe9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/49.db6b99b1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.4b916ac4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/50.8cddd757.js"><link rel="prefetch" href="/vuepress-blog/assets/js/51.d86e11f5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/52.c734683b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/53.60838c39.js"><link rel="prefetch" href="/vuepress-blog/assets/js/54.2a4ad983.js"><link rel="prefetch" href="/vuepress-blog/assets/js/55.247690ca.js"><link rel="prefetch" href="/vuepress-blog/assets/js/56.418dadb4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/57.3c28d478.js"><link rel="prefetch" href="/vuepress-blog/assets/js/58.f8d0967a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/59.53ce0108.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.355a8f07.js"><link rel="prefetch" href="/vuepress-blog/assets/js/60.d4b4abe1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/61.e809079c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/62.8c16fbcc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/63.3e21188d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/64.adc4acbb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/65.785f539f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/66.be79db4e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/67.27ee8a98.js"><link rel="prefetch" href="/vuepress-blog/assets/js/68.ce63c55f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/69.c888fef8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/70.f520be35.js"><link rel="prefetch" href="/vuepress-blog/assets/js/71.0e036b39.js"><link rel="prefetch" href="/vuepress-blog/assets/js/72.2a79d934.js"><link rel="prefetch" href="/vuepress-blog/assets/js/73.8820a069.js"><link rel="prefetch" href="/vuepress-blog/assets/js/74.e6a8ccd3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/75.4a779789.js"><link rel="prefetch" href="/vuepress-blog/assets/js/76.31afc92e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/77.22ff2bfa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/78.bd33db03.js"><link rel="prefetch" href="/vuepress-blog/assets/js/79.0997de77.js"><link rel="prefetch" href="/vuepress-blog/assets/js/8.4f46ad19.js"><link rel="prefetch" href="/vuepress-blog/assets/js/80.13b28fd9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/81.3667cbaa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/82.97bc529f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/83.e97dcb9e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/84.a31d5202.js"><link rel="prefetch" href="/vuepress-blog/assets/js/85.c67a5ac3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/86.54f888da.js"><link rel="prefetch" href="/vuepress-blog/assets/js/87.4a369fc5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/88.40dfee79.js"><link rel="prefetch" href="/vuepress-blog/assets/js/89.cd99730f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/9.fae5a856.js"><link rel="prefetch" href="/vuepress-blog/assets/js/90.96d9a0f4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/91.d4118fd2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/92.515544a5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/93.0e928d02.js"><link rel="prefetch" href="/vuepress-blog/assets/js/94.295d68fa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/95.f7e8be92.js"><link rel="prefetch" href="/vuepress-blog/assets/js/96.558f477b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/97.47dee1d2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/98.5b9f2ec3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/99.1968cfa2.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.37fe6c2b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/vuepress-blog/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          William Wu's Blog
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/vuepress-blog/" class="navbar-link" data-v-e4145d0a>
            é¦–é¡µ
          </a><a href="/vuepress-blog/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            æ–‡ç« 
          </a><a href="/vuepress-blog/about/" class="navbar-link" data-v-e4145d0a>
            å…³äº
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          Vue3ç»„ä»¶é€šä¿¡æ€»ç»“
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      å‘å¸ƒæ—¶é—´ : 2021-09-22
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/vuepress-blog/posts/2021/09/22/_06.html" class="post-link" data-v-4e23451f>
      ä¸Šä¸€ç¯‡ : ã€Vue2 VS Vue3 ã€‘- æµ…æ
    </a> <a href="/vuepress-blog/posts/2021/09/22/_04.html" class="post-link" data-v-4e23451f>
      ä¸‹ä¸€ç¯‡ : Vueçˆ¶å­ç»„ä»¶ä¼ å€¼ï¼Œå­ç»„ä»¶ä¸­propsçš„å¤šç§ç±»å‹æ€»ç»“
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼š<a href="https://juejin.cn/post/6906134996575059976" target="_blank" rel="noopener noreferrer">Vue3ç»„ä»¶é€šä¿¡æ€»ç»“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#å‰è¨€">å‰è¨€</a></li><li><a href="#åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</a><ul><li><a href="#props">props</a></li><li><a href="#emit">emit</a></li><li><a href="#v-model">v-model</a></li></ul></li><li><a href="#çˆ¶ä¼ å­">çˆ¶ä¼ å­</a><ul><li><a href="#refsæ–¹å¼">refsæ–¹å¼</a></li></ul></li><li><a href="#çˆ¶ä¼ æ›´æ·±çš„åä»£">çˆ¶ä¼ æ›´æ·±çš„åä»£</a><ul><li><a href="#provide-inject">provide / inject</a></li><li><a href="#vuex">vuex</a></li></ul></li><li><a href="#å­ä¼ çˆ¶">å­ä¼ çˆ¶</a><ul><li><a href="#refsæ–¹å¼">refsæ–¹å¼</a></li><li><a href="#äº‹ä»¶ä¸­å¿ƒ">äº‹ä»¶ä¸­å¿ƒ</a></li></ul></li><li><a href="#äº‹ä»¶ä¸­å¿ƒè¿›é˜¶">äº‹ä»¶ä¸­å¿ƒè¿›é˜¶</a></li><li><a href="#æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡">æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡</a></li><li><a href="#æœ€å">æœ€å</a></li></ul></div><p></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>æœ€è¿‘åœ¨å’±ä»¬ç¤¾åŒºçœ‹åˆ°ä¸€ä½å¤§ä½¬çš„è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6903796293445877773" target="_blank" rel="noopener noreferrer">Vueç»„ä»¶é€šä¿¡æ–¹å¼åŠå…¶åº”ç”¨åœºæ™¯æ€»ç»“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæ„Ÿè§‰å¯¹<code>vue2</code>çš„é€šä¿¡æ–¹å¼å’Œåº”ç”¨åœºæ™¯æ€»ç»“çš„éå¸¸åˆ°ä½ï¼Œæ‰€ä»¥å‘å¤§ä½¬saluteğŸ˜„ã€‚åˆšå¥½æœ€è¿‘åœ¨å­¦ä¹ <code>vue3</code>ï¼Œäºæ˜¯ä¹Ÿæ€è€ƒæ€»ç»“ä¸€ä¸‹åœ¨<code>vue3</code>ä¸­çš„ç»„ä»¶é€šä¿¡çš„æ–¹å¼ã€‚</p> <p>æˆ‘ä»¬çŸ¥é“<code>vue3</code>çš„<code>Composition Api</code>æ˜¯å®ƒå‡ ä¸ªæœ€å¤§äº®ç‚¹ä¹‹ä¸€ï¼Œæ‰€ä»¥ä¸‹æ–‡éƒ½æ˜¯åœ¨<code>setup</code>ä¸­æ¼”ç¤ºä»£ç çš„å®ç°ã€‚åé¢ä¼šä»¥å¼€å‘å‡ ä¸ªç®€å•<code>formç»„ä»¶</code>ä¸ºä¾‹å­æ¥æ¼”ç¤ºã€‚</p> <h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="header-anchor">#</a> åŸºæœ¬æ“ä½œ</h2> <p>è¿™é‡Œå…ˆç®€å•å¼€å‘ä¸€ä¸ª<code>VInput</code>çš„è¾“å…¥æ¡†ç»„ä»¶ã€‚ç»„ä»¶å°±åƒä¸€ä¸ªå‡½æ•°ï¼Œä¸»è¦å°±æ˜¯å¤„ç†è¾“å…¥å’Œè¾“å‡ºã€‚<code>Vue3</code>åœ¨<code>setup</code>å‡½æ•°ä¸Šæä¾›äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª<code>props</code>ï¼Œä¸€ä¸ªæ˜¯<code>context</code>ä¸‹é¢çš„<code>emit</code>æ–¹æ³•ï¼Œåˆ†åˆ«æ¥å¤„ç†è¾“å…¥å’Œè¾“å‡ºã€‚</p> <h3 id="props"><a href="#props" class="header-anchor">#</a> props</h3> <p>ç°åœ¨<code>VInput</code>å°±æ˜¯å­ç»„ä»¶ï¼Œæˆ‘éœ€è¦å®ƒèƒ½å¤Ÿæ¥å—çˆ¶çº§ä¼ é€’ä¸€ä¸ªå€¼ï¼Œè®©å®ƒå¯ä»¥å¸®æˆ‘åšåç»­çš„é€»è¾‘å¤„ç†åœ¨è¿”å›ç»™çˆ¶çº§ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œéœ€è¦æœ€åŸºæœ¬çš„ä¸€äº›çˆ¶å­é€šä¿¡æ–¹å¼<code>v-bind</code>ï¼Œ<code>props</code>ã€‚</p> <h4 id="çˆ¶çº§ç»„ä»¶ä¸­"><a href="#çˆ¶çº§ç»„ä»¶ä¸­" class="header-anchor">#</a> çˆ¶çº§ç»„ä»¶ä¸­</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
   <span class="token comment">// é€šè¿‡v-bindå°†æ•°æ®æƒ³å­ç»„ä»¶ä¼ é€’</span>
  <span class="token operator">&lt;</span>VInput <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;valueRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">const</span> valueRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="vinputä¸­"><a href="#vinputä¸­" class="header-anchor">#</a> VInputä¸­</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'VInput'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…¶ä»–é€»è¾‘</span>
    <span class="token comment">// æ¥å—åˆ°è¿™ä¸ªå€¼</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="emit"><a href="#emit" class="header-anchor">#</a> emit</h3> <p>å½“æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­æ¥å—å‚æ•°ï¼Œè¿›è¡Œä¸€äº›é€»è¾‘å¤„ç†åï¼Œæˆ‘ä»¬å°±éœ€è¦å°†å¤„ç†å¥½çš„å€¼ï¼Œå‘å¤–éƒ¨è¿›è¡Œä¸€ä¸ªè¿”å›ï¼Œå¤–éƒ¨åŒæ—¶éœ€è¦å®ç°ä¸€ä¸ªäº‹ä»¶å‡½æ•°å»æ¥å—ã€‚æ­¤æ—¶æˆ‘å°±å¯ä»¥ä½¿ç”¨<code>emit</code>æ–¹æ³•</p> <p>å‡è®¾æˆ‘ä»¬å¸Œæœ›<code>VInput</code>ç»„ä»¶è¿”å›ç»™å¤–éƒ¨çš„æ˜¯ä¸€ä¸ªé™åˆ¶é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚æ­¤æ—¶å¤–éƒ¨å°±éœ€è¦å®ç°ä¸€ä¸ªå¯¹åº”çš„äº‹ä»¶å‡½æ•°å»æ¥æ”¶è¿™ä¸ªå€¼ï¼Œç„¶å<code>VInput</code>å†…éƒ¨é€š<code>emit</code>æ‰§è¡Œäº‹ä»¶ï¼Œå°†å†…éƒ¨çš„å¤„ç†å¥½çš„å€¼å½“åšå‚æ•°è¿”å›å‡ºå»ã€‚</p> <h4 id="vinput"><a href="#vinput" class="header-anchor">#</a> VInput</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">&quot;text&quot;</span> @input<span class="token operator">=</span><span class="token string">&quot;onInput&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;inputRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'VInput'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> String<span class="token punctuation">,</span>
    maxLength<span class="token operator">:</span> Number
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// Vue3ä¸­è·å–ç»„ä»¶æˆ–è€…domå®ä¾‹çš„ä¸€ç§æ–¹å¼</span>
    <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// é™åˆ¶æ–‡å­—é•¿åº¦</span>
    <span class="token keyword">const</span> <span class="token function-variable function">limitLength</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> maxLength<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> maxLength<span class="token punctuation">)</span>
    <span class="token comment">// è¾“å…¥æ§åˆ¶</span>
    <span class="token keyword">const</span> <span class="token function-variable function">controlled</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      inputRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> props<span class="token punctuation">.</span>maxLength <span class="token operator">===</span> <span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> props<span class="token punctuation">.</span>maxLength <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> <span class="token function">limitLength</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> props<span class="token punctuation">.</span>maxLength<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">controlled</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
      <span class="token comment">// å‘å¤–éƒ¨è¿”å›ä¸€ä¸ªå¤„ç†è¿‡çš„å€¼</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'onInput'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      onInput<span class="token punctuation">,</span>
      inputRef
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="çˆ¶çº§ç»„ä»¶"><a href="#çˆ¶çº§ç»„ä»¶" class="header-anchor">#</a> çˆ¶çº§ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token comment">// é€šè¿‡v-onå‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æˆ·æ¥å—è¿”å›å€¼</span>
  <span class="token operator">&lt;</span>VInput <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;valueRef&quot;</span> <span class="token operator">:</span>maxLength<span class="token operator">=</span><span class="token string">&quot;10&quot;</span> @onInput<span class="token operator">=</span><span class="token string">&quot;onInput&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VInput <span class="token keyword">from</span> <span class="token string">'@/components/VInput.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Demo'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    VInput
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> valueRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token comment">// æ¥å—å­ç»„ä»¶VInputè¿”å›çš„å€¼</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
      <span class="token comment">// æ”¹å˜å¯¹åº”çš„å€¼</span>
      valueRef<span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      valueRef<span class="token punctuation">,</span>
      onInput
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>å¯¹äºè¿™ç§<code>input</code>çš„ç»„ä»¶çš„ä½¿ç”¨ï¼Œæˆ‘çŒœå¤§å®¶è‚¯å®šéƒ½ä¸æƒ³åœ¨çˆ¶çº§ç»„ä»¶è¿™ä¹ˆéº»çƒ¦çš„å»æ¥æ”¶å’Œæ”¹å˜ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥<code>vue</code>æ˜¯æä¾›äº†<code>v-model</code>æ¥æ›´å¿«æ·çš„å®ç°è¾“å…¥å’Œè¾“å‡ºã€‚</p> <h3 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h3> <p>é€šè¿‡<code>Vue3</code>çš„æ–‡æ¡£å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæŒ‡ä»¤çš„ç”¨æ³•å‘ç”Ÿäº†ä¸€å®šçš„å˜åŒ–ã€‚åœ¨ä¹‹å‰ï¼Œæˆ‘ä»¬è¦æƒ³å®ç°ä¸€ä¸ª<strong>è‡ªå®šä¹‰çš„éè¡¨å•ç»„ä»¶</strong>çš„åŒå‘ç»‘å®šï¼Œéœ€è¦é€šè¿‡<code>xxxx.sync</code>çš„è¿™ç§è¯­æ³•æ¥å®ç°ï¼Œå¦‚ä»Šè¿™ä¸ªæŒ‡ä»¤å·²ç»è¢«åºŸé™¤äº†ï¼Œè€Œæ˜¯ç»Ÿä¸€ä½¿ç”¨<code>v-model</code>è¿™ä¸ªæŒ‡ä»¤ã€‚</p> <h4 id="çˆ¶çº§ç»„ä»¶-2"><a href="#çˆ¶çº§ç»„ä»¶-2" class="header-anchor">#</a> çˆ¶çº§ç»„ä»¶</h4> <p>æ–°çš„<code>v-model</code> è¿˜å¯ä»¥æ”¯æŒå¤šä¸ªæ•°æ®çš„åŒå‘ç»‘å®šã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>VBtn v<span class="token operator">-</span>model<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;valueRef&quot;</span> v<span class="token operator">-</span>model<span class="token operator">:</span>keyword<span class="token operator">=</span><span class="token string">&quot;keywordRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h4 id="è‡ªå®šä¹‰çš„éè¡¨å•ç»„ä»¶"><a href="#è‡ªå®šä¹‰çš„éè¡¨å•ç»„ä»¶" class="header-anchor">#</a> è‡ªå®šä¹‰çš„éè¡¨å•ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;clickHandle&quot;</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'VBtn'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> String<span class="token punctuation">,</span>
    keyword<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// çœç•¥å…¶ä»–ä»£ç </span>
     <span class="token comment">// ç”¨æˆ·ç‚¹å‡»æŒ‰é’®</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clickHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// çœç•¥å…¶ä»–ä»£ç </span>
      <span class="token comment">// ä¿®æ”¹å¯¹åº”çš„propsçš„æ•°æ®</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:value'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:keyword'</span><span class="token punctuation">,</span> value <span class="token operator">+</span> <span class="token string">'123'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ä»¥ä¸Šå°±æ˜¯åœ¨<code>Vue3</code>ä¸­ä¸€äº›åŸºæœ¬é€šä¿¡æ–¹å¼çš„APIçš„ä»‹ç»ã€‚åœ¨<code>Vue3</code>ä¸­ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨<code>Composition Api</code>çš„å½¢å¼å¼€å‘ï¼Œæ‰€ä»¥ä½ ä¼šå‘ç°å¼€å‘çš„æ—¶å€™ä¸èƒ½åœ¨é‡‡ç”¨<code>this.$xxx</code>çš„æ–¹å¼å»è°ƒç”¨å®ä¾‹ä¸Šçš„æŸä¸ªå‡½æ•°æˆ–è€…æ˜¯å±æ€§ã€‚é‚£äº›<code>this.$parent</code>ï¼Œ<code>this.$children</code>ï¼Œ<code>this.$on</code>ï¼Œ<code>this.$emit</code>ç­‰ç­‰éƒ½ä¸èƒ½åœ¨ä½¿ç”¨äº†ã€‚</p> <p>é‚£åœ¨<code>Vue3</code>ä¸­å¦‚ä½•è§£å†³ç»„ä»¶é—´é‚£äº›é€šä¿¡çš„å‘¢ï¼Ÿå’±ä»¬ä»ç®€å•åˆ°å¤æ‚çš„åœºæ™¯ï¼Œä¸€ä¸ªä¸ªæ¥åˆ†æã€‚</p> <p>å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œå¼€å‘çš„ä¸‰ä¸ª<code>form</code>ç»„ä»¶ï¼Œç»„åˆèµ·æ¥çš„å®é™…çš„ç”¨æ³•æ˜¯æ€ä¹ˆæ ·çš„:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ValidateForm ref<span class="token operator">=</span><span class="token string">&quot;validateFormRef1&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;state&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;rules&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;ç”¨æˆ·å&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ValidateInput
        placeholder<span class="token operator">=</span><span class="token string">&quot;è¯·è¾“å…¥&quot;</span>
        required
        v<span class="token operator">-</span>model<span class="token operator">:</span>modelValue<span class="token operator">=</span><span class="token string">&quot;state.keyword&quot;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;å¯†ç &quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ValidateInput
        placeholder<span class="token operator">=</span><span class="token string">&quot;è¯·è¾“å…¥&quot;</span>
        required
        <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
        v<span class="token operator">-</span>model<span class="token operator">:</span>modelValue<span class="token operator">=</span><span class="token string">&quot;state.password&quot;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateForm<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btn btn-primary&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;submit(0)&quot;</span><span class="token operator">&gt;</span>æäº¤<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>æ‰€æœ‰ç»„ä»¶çš„åŠŸèƒ½ï¼Œæ˜¯æ¨¡ä»¿<code>Element UI</code>å»å®ç°çš„ã€‚</p> <h2 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="header-anchor">#</a> çˆ¶ä¼ å­</h2> <p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªæ•°æ®ï¼Œå¯ä»¥ç”¨è¿™ä¸¤ç§æ–¹å¼ï¼š</p> <ul><li>v-bind</li> <li>refsè·å–å­ç»„ä»¶å†…éƒ¨æŸä¸ªå‡½æ•°ï¼Œç›´æ¥è°ƒç”¨ä¼ å‚ï¼ˆè¿™é‡Œç®€ç§°refsæ–¹å¼ï¼‰</li></ul> <h3 id="refsæ–¹å¼"><a href="#refsæ–¹å¼" class="header-anchor">#</a> refsæ–¹å¼</h3> <p>å…³äº<code>v-bind</code>å’±ä»¬å°±ä¸ç»†è¯´äº†ï¼Œåœ¨åŸºæœ¬æ“ä½œç« èŠ‚å·²ç»è®²è¿‡å…¶å¯¹åº”çš„ä½¿ç”¨æ–¹å¼äº†ã€‚è¿™å°èŠ‚ä¸»è¦åœ¨ä¸­è®²<code>Vue3</code>å¦‚ä½•é€šè¿‡<code>ref</code>è·å–å­ç»„ä»¶å®ä¾‹å¹¶è°ƒç”¨å…¶èº«ä¸Šçš„å‡½æ•°æ¥å¯¹å­ç»„ä»¶è¿›è¡Œä¼ å€¼ã€‚</p> <h4 id="å­ç»„ä»¶"><a href="#å­ç»„ä»¶" class="header-anchor">#</a> å­ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token comment">// æ¸²æŸ“ä»çˆ¶çº§æ¥å—åˆ°çš„å€¼</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Son<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> valueRef <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> valueRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token comment">// è¯¥å‡½æ•°å¯ä»¥æ¥å—çˆ¶çº§ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¿®æ”¹valueRefçš„å€¼</span>
    <span class="token keyword">const</span> <span class="token function-variable function">acceptValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>valueRef<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      acceptValue<span class="token punctuation">,</span>
      valueRef
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="çˆ¶ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶" class="header-anchor">#</a> çˆ¶ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>sonRef<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;sendValue&quot;</span><span class="token operator">&gt;</span>send<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token comment">// è¿™é‡Œrefæ¥å—çš„å­—ç¬¦ä¸²ï¼Œè¦setupè¿”å›çš„refç±»å‹çš„å˜é‡åŒå</span>
  <span class="token operator">&lt;</span>Son ref<span class="token operator">=</span><span class="token string">&quot;sonRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'@/components/Son.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Demo'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Son
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœrefåˆå§‹å€¼æ˜¯ä¸€ä¸ªç©ºï¼Œå¯ä»¥ç”¨äºæ¥å—ä¸€ä¸ªå®ä¾‹</span>
    <span class="token comment">// vue3ä¸­è·å–å®ä¾‹çš„æ–¹å¼å’Œvue2ç•¥æœ‰ä¸åŒ</span>
    <span class="token keyword">const</span> sonRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sendValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¯ä»¥æ‹¿åˆ°sonç»„ä»¶å®ä¾‹ï¼Œå¹¶è°ƒç”¨å…¶setupè¿”å›çš„æ‰€æœ‰ä¿¡æ¯</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sonRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// é€šè¿‡è°ƒç”¨sonç»„ä»¶å®ä¾‹çš„æ–¹æ³•ï¼Œå‘å…¶ä¼ é€’æ•°æ®</span>
      sonRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">acceptValue</span><span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      sonRef<span class="token punctuation">,</span>
      sendValue
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>è¿™é‡Œå¯ä»¥çœ‹ä¸€ä¸‹æµç¨‹å›¾ï¼š</p> <p><img alt="1" data-src="/vuepress-blog/img/post/2021-09-22-04/1.awebp" loading="lazy" class="lazy"></p> <p>å…¶å®è¿™ç§æ–¹å¼è·Ÿ<code>Vue2</code>ä¸­ä½¿ç”¨<code>this.$refs</code>ï¼Œ<code>this.$children</code>çš„æ–¹å¼å¾ˆç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡æ‹¿åˆ°å­ç»„ä»¶å®ä¾‹ï¼Œç›´æ¥è°ƒç”¨å­ç»„ä»¶èº«ä¸Šçš„å‡½æ•°ã€‚æ–¹æ³•åƒç¯‡ä¸€å¾‹ï¼Œä¸è¿‡åœ¨<code>Vue3</code>ä¸­æ²¡æœ‰äº†<code>this</code>è¿™ä¸ªé»‘ç›’ã€‚</p> <p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°çœ‹ä¸€ä¸‹è¿™ä¸ª<code>sonRef.value</code>æ˜¯ä¸€ä¸ªæ€æ ·çš„ä¸œè¥¿ã€‚</p> <p><img alt="2" data-src="/vuepress-blog/img/post/2021-09-22-04/2.awebp" loading="lazy" class="lazy"></p> <p>å¯ä»¥å‘ç°ï¼Œé€šè¿‡<code>ref</code>è·å–åˆ°çš„å­ç»„ä»¶å®ä¾‹ä¸Šé¢å¯ä»¥æ‹¿åˆ°<code>setup</code>è¿”å›çš„æ‰€æœ‰å˜é‡å’Œæ–¹æ³•ï¼ŒåŒæ—¶è¿˜å¯ä»¥æ‹¿åˆ°å…¶ä»–çš„ä¸€äº›å†…éƒ¨å±æ€§ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£<a href="https://vue-composition-api-rfc.netlify.app/zh/api.html#%E6%A8%A1%E6%9D%BF-refs" target="_blank" rel="noopener noreferrer">Vue ç»„åˆå¼ API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>çš„æè¿°ã€‚</p> <blockquote><p>åœ¨ Virtual DOM patch ç®—æ³•ä¸­ï¼Œå¦‚æœä¸€ä¸ª VNode çš„ ref å¯¹åº”ä¸€ä¸ªæ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­çš„ refï¼Œåˆ™è¯¥ VNode å¯¹åº”çš„å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹å°†è¢«åˆ†é…ç»™è¯¥ refã€‚ è¿™æ˜¯åœ¨ Virtual DOM çš„ mount / patch è¿‡ç¨‹ä¸­æ‰§è¡Œçš„ï¼Œå› æ­¤æ¨¡æ¿ ref ä»…åœ¨æ¸²æŸ“åˆå§‹åŒ–åæ‰èƒ½è®¿é—®ã€‚</p></blockquote> <h4 id="refæ–¹å¼æ€»ç»“"><a href="#refæ–¹å¼æ€»ç»“" class="header-anchor">#</a> refæ–¹å¼æ€»ç»“</h4> <p>ä¼˜ç‚¹ï¼š</p> <ol><li><p>çˆ¶ç»„ä»¶å¯ä»¥è·å–å¿«é€Ÿå‘ç¡®å®šå­˜åœ¨çš„å­ç»„ä»¶ä¼ é€’æ•°æ®</p></li> <li><p>ä¼ é€’çš„å‚æ•°ä¸å—é™åˆ¶ï¼Œä¼ é€’æ–¹å¼æ¯”è¾ƒçµæ´»</p></li></ol> <h2 id="çˆ¶ä¼ æ›´æ·±çš„åä»£"><a href="#çˆ¶ä¼ æ›´æ·±çš„åä»£" class="header-anchor">#</a> çˆ¶ä¼ æ›´æ·±çš„åä»£</h2> <p>ä¸€èˆ¬å¾€æ·±åº¦å±‚çº§ä¼ é€’å€¼ï¼Œæœ‰è¿™ä¸¤ç§æ–¹å¼ï¼š</p> <ul><li>provide / inject</li> <li>vuex</li></ul> <h3 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> provide / inject</h3> <p>ä¸€çœ‹åˆ°â€œæ·±â€è¿™ä¸ªå­—ï¼Œå¤§å®¶è‚¯å®šç¬¬ä¸€æƒ³åˆ°çš„å°±<code>Vue2</code>ä¸­çš„<code>provide / inject</code>é€‰é¡¹ã€‚æ²¡é”™ï¼Œè¿™å¥—é€»è¾‘åœ¨<code>vue3</code>ä¸­åŒæ ·é€‚ç”¨ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹å˜æˆäº†ä¸¤ä¸ªæ–¹æ³•ã€‚</p> <p><code>provide</code>å…è®¸æˆ‘ä»¬å‘å½“å‰ç»„ä»¶çš„æ‰€æœ‰åä»£ç»„ä»¶ï¼Œä¼ é€’ä¸€ä»½æ•°æ®ï¼Œæ‰€æœ‰åä»£ç»„ä»¶èƒ½å¤Ÿé€šè¿‡<code>inject</code>è¿™ä¸ªæ–¹æ³•æ¥å†³å®šæ˜¯å¦æ¥å—è¿™ä»½æ•°æ®ã€‚</p> <p>å¤§è‡´çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p> <p><img alt="3" data-src="/vuepress-blog/img/post/2021-09-22-04/3.awebp" loading="lazy" class="lazy"></p> <h4 id="å®é™…åº”ç”¨åœºæ™¯"><a href="#å®é™…åº”ç”¨åœºæ™¯" class="header-anchor">#</a> å®é™…åº”ç”¨åœºæ™¯</h4> <p>ä¸»è¦åº”ç”¨çš„åœºæ™¯æœ‰ä¸¤ä¸­ï¼Œä¸€ç§æ·±åº¦ä¼ é€’ä¸€ä¸ªå‚æ•°æˆ–è€…ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå¦ä¸€ç§æ˜¯ç»™æ’æ§½ä¸Šä¸ç¡®å®šæ€§çš„ç»„ä»¶ä¼ å‚çš„æ—¶å€™ã€‚</p> <p>é‡ç‚¹è¯´ä¸€ä¸‹ç»™æ’æ§½ä¸Šçš„ç»„ä»¶ä¼ å‚ã€‚å…ˆå®ç°ä¸€ä¸ªæœ€å¤–å±‚çš„<code>ValidateForm</code>ç»„ä»¶ï¼Œå®ƒä¸»è¦è´Ÿè´£æ¥å—ä¸€æ•´ä¸ªè¡¨å•æ•°æ®å’Œæ•´ä¸ªè¡¨å•æ•°æ®çš„æ ¡éªŒè§„åˆ™ã€‚å…¶å†…éƒ¨æä¾›äº†ä¸€ä¸ªæ’æ§½ï¼Œç”¨äºæ”¾ç½®ä¸€äº›ä¸ç¡®å®šæ€§çš„ç»„ä»¶ã€‚è¿˜æœ‰ä¸€ä¸ª<code>ValidateFormItem</code>ç»„ä»¶å¯ä»¥æ¥å—ä¸€ä¸ªå­—æ®µåï¼Œé€šè¿‡è¿™å­—æ®µåå‡†ç¡®çŸ¥é“éœ€è¦æ ¡éªŒå“ªä¸ªå­—æ®µï¼ˆtips:åŠŸèƒ½å…¶å®å’Œ<code>element-ui</code>ç±»ä¼¼ï¼‰ã€‚</p> <p>ç»„ä»¶åŒ–å¼€å‘ï¼Œéœ€è¦å°†å‚æ•°å’ŒåŠŸèƒ½è¿›è¡Œè§£è€¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ ·æ¥è®¾è®¡ï¼š</p> <ul><li><code>ValidateForm</code>ï¼š<code>model</code>ï¼Œ<code>rules</code>ï¼Œåªç®¡æ¥å—æ•´ä»½è¡¨å•çš„æ•°æ®å’Œæ ¡éªŒè§„åˆ™</li> <li><code>ValidateFormItem</code>ï¼š<code>prop</code>ï¼Œåªç®¡æ¥å—å­—æ®µåï¼Œåªéœ€çŸ¥é“è‡ªå·±éœ€è¦éªŒè¯å“ªä¸€ä¸ªå­—æ®µ</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ValidateForm ref<span class="token operator">=</span><span class="token string">&quot;validateFormRef&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;rules&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;ç”¨æˆ·å&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;å¯†ç &quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateForm<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>å¦‚æœ<code>ValidateFormItem</code>ç»„ä»¶éœ€è¦é€šè¿‡<code>prop</code>å»æ•ˆéªŒæŸä¸ªå­—æ®µï¼Œé‚£å®ƒå°±éœ€è¦æ‹¿åˆ°é‚£ä»½è¡¨å•çš„æ•°æ®ï¼Œé€šè¿‡<code>formData[prop]</code>å»å–åˆ°é‚£ä¸ªå­—æ®µçš„å€¼ï¼Œé‚£è¿™ä»½<code>formData</code>ä»å“ªé‡Œæ¥å‘¢ï¼Ÿé¦–å…ˆä¸å¯èƒ½æ¯å†™ä¸€ä¸ª<code>ValidateFormItem</code>ç»„ä»¶éƒ½ä¼ é€’ä¸€ä»½ã€‚å› ä¸ºï¼Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬å¹¶ä¸èƒ½ç¡®å®šåœ¨<code>ValidateForm</code>ä¸‹è¦å†™å¤šå°‘ä¸ª<code>ValidateFormItem</code>ç»„ä»¶ï¼Œå¦‚æœæ¯å†™ä¸€ä¸ªéƒ½æ‰‹åŠ¨ä¼ é€’ä¸€ä»½è¡¨å•çš„æ•°æ®ï¼Œè¿™äº›å†™èµ·æ¥å°±ä¼šå¤šäº†å¾ˆå¤šå†—ä½™çš„ä»£ç è€Œä¸”ä¹Ÿå¾ˆéº»çƒ¦ã€‚æ‰€ä»¥ï¼Œå°±ç”±<code>ValidateForm</code>è¿™ä¸ªç»„ä»¶ç‹¬ç«‹æ¥å—å¹¶åˆ†å‘ä¸‹æ¥ã€‚</p> <h4 id="validateform"><a href="#validateform" class="header-anchor">#</a> ValidateForm</h4> <p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦<code>ValidateForm</code>æ¥å‘ä¸‹åˆ†å‘æ•°æ®ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> modelKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> rulesKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ValidateForm'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‘åä»£å‘æ”¾æ•°æ®</span>
    <span class="token function">provide</span><span class="token punctuation">(</span>modelKey<span class="token punctuation">,</span> props<span class="token punctuation">.</span>model<span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span>rulesKey<span class="token punctuation">,</span> props<span class="token punctuation">.</span>rules<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="validateformitem"><a href="#validateformitem" class="header-anchor">#</a> ValidateFormItem</h4> <p><code>ValidateFormItem</code>æ¥å—ä¸Šé¢ä¼ é€’çš„æ•°æ®ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> inject<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> modelKey<span class="token punctuation">,</span> rulesKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./ValidateForm.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ValidateFormItem'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> String<span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    prop<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¥å—ValidateFormä¼ ä¸‹æ¥çš„æ•°æ®</span>
    <span class="token keyword">const</span> model <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>modelKey<span class="token punctuation">,</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> rules <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rulesKey<span class="token punctuation">,</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// æ ¹æ®props.propåœ¨modelå’Œrulesåˆ†åˆ«å–å‡ºéœ€è¦ æ ¡éªŒçš„æ•°æ® å’Œ æ ¡éªŒçš„è§„åˆ™</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>model<span class="token punctuation">[</span>props<span class="token punctuation">.</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rules<span class="token punctuation">[</span>props<span class="token punctuation">.</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">// æ•°æ®æ ¡éªŒçš„é€»è¾‘</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">//...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="provide-injectæ€»ç»“"><a href="#provide-injectæ€»ç»“" class="header-anchor">#</a> provide / injectæ€»ç»“</h4> <p>åœ¨è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6903796293445877773" target="_blank" rel="noopener noreferrer">Vueç»„ä»¶é€šä¿¡æ–¹å¼åŠå…¶åº”ç”¨åœºæ™¯æ€»ç»“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸­ï¼Œå¤§ä½¬å¯¹å…¶çš„ä¼˜ç¼ºç‚¹å·²ç»æ€»ç»“å¾ˆå¥½äº†ã€‚è¿™é‡Œæä¸€ä¸‹å®ƒçš„ç¼ºç‚¹ï¼Œå°±æ˜¯ä¸èƒ½è§£å†³å…„å¼Ÿç»„ä»¶çš„é€šä¿¡ã€‚</p> <h3 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h3> <p><code>vuex</code>ä¸€ç›´ä»¥æ¥æ˜¯<code>vue</code>ç”Ÿæ€ä¸­ä¸€ä¸ªè§£å†³ä¸åŒå±‚çº§ç»„ä»¶æ•°æ®å…±äº«çš„ä¼˜è´¨æ–¹æ¡ˆã€‚ä¸ä»…æ˜¯åœ¨çˆ¶ä¼ å­ä¸­å¯ä»¥é€‚ç”¨ï¼Œåœ¨å­ä¼ çˆ¶ï¼Œæˆ–è€…ç¥–å…ˆä¼ åä»£ï¼Œåä»£ä¼ ç¥–å…ˆï¼Œå…„å¼Ÿç»„ä»¶é—´éƒ½æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æ–¹æ¡ˆã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé›†ä¸­çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å…¶æœ¬è´¨å®ç°ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚è¿™é‡Œåªç®€å•æä¸€ä¸‹<code>Vue3</code>ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚</p> <h4 id="åˆ›å»ºä¸€ä¸ªstore"><a href="#åˆ›å»ºä¸€ä¸ªstore" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ª<code>store</code></h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">enum</span> Mutarions <span class="token punctuation">{</span>
  <span class="token constant">SET_COUNT</span> <span class="token operator">=</span> <span class="token string">'SET_COUNT'</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">231</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Mutarions<span class="token punctuation">.</span><span class="token constant">SET_COUNT</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> num<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>count <span class="token operator">=</span> num<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="çˆ¶ç»„ä»¶-2"><a href="#çˆ¶ç»„ä»¶-2" class="header-anchor">#</a> çˆ¶ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>father<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Son ref<span class="token operator">=</span><span class="token string">&quot;sonRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'@/components/Son.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Mutarions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/store/index'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Father'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Son
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> valueRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>Mutarions<span class="token punctuation">.</span><span class="token constant">SET_COUNT</span><span class="token punctuation">,</span> valueRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="å­ç»„ä»¶-2"><a href="#å­ç»„ä»¶-2" class="header-anchor">#</a> å­ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Son<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="header-anchor">#</a> å­ä¼ çˆ¶</h2> <p>å­çº§å‘çˆ¶çº§ä¼ é€’æ•°æ®ï¼Œå¯ä»¥æœ‰è¿™ä¸‰ç§æ–¹å¼ï¼š</p> <ul><li>v-on</li> <li>refsæ–¹å¼</li> <li>äº‹ä»¶ä¸­å¿ƒ</li></ul> <h3 id="refsæ–¹å¼-2"><a href="#refsæ–¹å¼-2" class="header-anchor">#</a> refsæ–¹å¼</h3> <p>é€šè¿‡<code>ref</code>çš„æ–¹å¼å‘çˆ¶çº§ä¼ é€’ä¸€ä¸ªæ•°æ®æ˜¯åŒæ ·é€‚ç”¨çš„ã€‚å…·ä½“æ€è·¯ï¼šå­ç»„ä»¶å†…éƒ¨å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ã€‚çˆ¶çº§ç»„ä»¶é€šè¿‡<code>ref</code>å–åˆ°å­ç»„ä»¶å®ä¾‹åè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¾—åˆ°éœ€è¦çš„è¿”å›å€¼ã€‚</p> <p>è¿™é‡Œæ¥çœ‹ä¸€ä¸‹å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¸Œæœ›<code>ValidateForm</code>ç»„ä»¶å»éªŒè¯ä¸‹é¢æ‰€æœ‰çš„è¡¨å•é¡¹ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå‡½æ•°å°†ç»„ä»¶å†…éƒ¨çš„ä¸€ä¸ªéªŒè¯çŠ¶æ€è¿”å›å‡ºå»ã€‚</p> <h4 id="çˆ¶ç»„ä»¶-3"><a href="#çˆ¶ç»„ä»¶-3" class="header-anchor">#</a> çˆ¶ç»„ä»¶</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ValidateForm ref<span class="token operator">=</span><span class="token string">&quot;validateFormRef&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;rules&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;ç”¨æˆ·å&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;å¯†ç &quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateForm<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'demo'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// çœç•¥éƒ¨åˆ†ä»£ç </span>
    <span class="token keyword">const</span> validateFormRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// é€šè¿‡validateæ‹¿åˆ°ValidateFormç»„ä»¶å†…éƒ¨çš„ä¸€ä¸ªéªŒè¯çŠ¶æ€</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>validateFormRef<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¡¨å•éªŒè¯æˆåŠŸåï¼Œåšåç»­çš„æ“ä½œ</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      validateFormRef
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="validateform-2"><a href="#validateform-2" class="header-anchor">#</a> ValidateForm</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ValidateForm'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">validate</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token comment">// è°ƒç”¨æ’æ§½ä¸‹æ‰€æœ‰ValidateFormItemç»„ä»¶å†…éƒ¨çš„æ ¡éªŒæ–¹æ³•</span>
      <span class="token comment">//ï¼ˆtips:è‡³äºå¦‚ä½•è°ƒç”¨ï¼Œåé¢çš„äº‹ä»¶ä¸­å¿ƒä¼šé‡ç‚¹è¯´ï¼‰</span>
      <span class="token comment">// å¦‚æœæœ‰ä¸€ä¸ªæ ¡éªŒæ–¹æ³•è¿”å›çš„æ˜¯falseå°±ç›´æ¥è¿”å›false</span>
      <span class="token comment">// å¦‚æœéƒ½ä¸ºtrueå°±è¿”å›ä¸€ä¸ªtrue</span>
      <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      validate
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>è¿™é‡Œæ¥çœ‹ä¸€ä¸‹å¤§è‡´çš„æµç¨‹å›¾ï¼š</p> <p><img alt="4" data-src="/vuepress-blog/img/post/2021-09-22-04/4.awebp" loading="lazy" class="lazy"></p> <p>é€šè¿‡è¯¥ç§æ–¹æ³•è¿˜å¯ä»¥æ‹¿åˆ°å­ç»„ä»¶å†…éƒ¨çš„æ•°æ®ï¼Œè¿™å°±è·Ÿé—­åŒ…å‡½æ•°ä¸€æ ·çš„é“ç†ã€‚</p> <h3 id="äº‹ä»¶ä¸­å¿ƒ"><a href="#äº‹ä»¶ä¸­å¿ƒ" class="header-anchor">#</a> äº‹ä»¶ä¸­å¿ƒ</h3> <p>è¿™ç§é€šä¿¡æ–¹å¼ä¸ºä»€ä¹ˆæ‹¿åˆ°è¿™é‡Œæ¥è®²å‘¢ï¼Ÿå› ä¸ºæˆ‘è§‰æ¥ä¸‹çš„å®é™…æ¡ˆä¾‹ç”¨ä¸Šäº‹ä»¶ä¸­å¿ƒè¿™ç§æ–¹å¼ä¼šéå¸¸çš„æ°å½“ã€‚åœ¨ä¸Šä¸€ä¸ªå°èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç•™ä¸‹æ¥ä¸€ä¸ªå‘ï¼Œé‚£å°±æ˜¯<code>ValidateForm</code>ç»„ä»¶è¦å»éªŒè¯æ•´ä¸ªè¡¨å•æ˜¯å¦é€šè¿‡ï¼Œå°±å¿…é¡»æƒ³åŠæ³•è®©æ¯ä¸ª<code>ValidateFormItem</code>å°†å†…éƒ¨çš„æ ¡éªŒç»“æœè¿”å›ç»™å®ƒã€‚</p> <h4 id="é¦–å…ˆä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜"><a href="#é¦–å…ˆä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜" class="header-anchor">#</a> é¦–å…ˆä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜</h4> <ol><li><p><code>ValidateForm</code>ä¸‹é¢çš„ç»„ä»¶æ˜¯é€šè¿‡æ’æ§½å»æŒ‚è½½çš„ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡<code>ref</code>çš„æ–¹å¼å»æ‹¿åˆ°æ¯ä¸ªå­è¡¨å•é¡¹çš„å®ä¾‹ï¼Œæ‰€ä»¥å°±æ²¡åŠæ³•æ‹¿åˆ°æ¯ä¸ª<code>ValidateFormItem</code>çš„éªŒè¯çŠ¶æ€äº†ã€‚</p></li> <li><p>ä¸Šé¢çš„ç« èŠ‚ä¸­æœ‰ä¸€ä¸ªå›¾ç‰‡ï¼Œå±•ç¤ºäº†é€šè¿‡<code>ref</code>æ‹¿åˆ°çš„ç»„ä»¶å®ä¾‹ã€‚å¯ä»¥å‘ç°ï¼Œä½ å¯ä»¥æ‰¾åˆ°<code>$parent</code>å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰<code>$children</code>å±æ€§ã€‚è¿™å°±å¾ˆå°´å°¬äº†ï¼Œæˆ‘ä»¬æ²¡åŠæ³•åƒ<code>Vue2</code>ä¸€æ ·åœ¨<code>ValidateForm</code>ä¸­é€šè¿‡<code>$children</code>æ‹¿åˆ°æ¯ä¸ªå­ç»„ä»¶çš„å®ä¾‹ã€‚</p></li></ol> <h4 id="è§£å†³æ€è·¯"><a href="#è§£å†³æ€è·¯" class="header-anchor">#</a> è§£å†³æ€è·¯</h4> <p>æ—¢ç„¶æ²¡æœ‰åŠæ³•æ‹¿åˆ°æ’æ§½ä¸Šçš„ç»„ä»¶å®ä¾‹ï¼Œé‚£å’±ä»¬å°±ç»•å¼€å®ƒï¼Œé€šè¿‡ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒçš„æ–¹å¼æ¥è§£å†³ã€‚æ€è·¯æ˜¯è¿™æ ·çš„ï¼š</p> <ol><li>åœ¨<code>ValidateForm</code>å®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå»åˆ›å»ºä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒ<code>Emitter</code>å®ä¾‹ï¼Œå®ƒå¯ä»¥æ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼Œå½“è¿™ä¸ªäº‹ä»¶è¢«æ‰§è¡Œæ—¶å¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚</li> <li>å°†è¿™ä¸ª<code>Emitter</code>é€šè¿‡<code>provide</code>ä¼ é€’ç»™åä»£ï¼Œä¿è¯è¿™ä¸ªäº‹ä»¶ä¸­å¿ƒåœ¨ä¸åŒçš„<code>ValidateForm</code>ç»„ä»¶ä¸­éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¦‚æœå†™äº†å¤šä¸ª<code>ValidateForm</code>ï¼Œä»–ä»¬çš„äº‹ä»¶ä¸­å¿ƒä¸ä¼šç›¸äº’å¹²æ‰°</li> <li>åœ¨<code>ValidateFormItem</code>ä¸­ä½¿ç”¨<code>inject</code>æ¥æ”¶è‡ªå·±æ‰€åœ¨è¡¨å•åŸŸçš„<code>Emitter</code>ï¼Œåœ¨æŒ‚è½½çš„æ—¶å€™ï¼Œæ‰§è¡Œ<code>Emitter</code>ä¸Šçš„äº‹ä»¶ï¼Œå°†è‡ªå·±çš„å†…éƒ¨çš„<code>validate</code>å‡½æ•°ï¼Œä¼ é€’å‘é€ç»™<code>ValidateForm</code>ï¼Œå¹¶ç”±å…¶å°†æ–¹æ³•ç¼“å­˜åœ¨é˜Ÿåˆ—ä¸­ã€‚</li> <li><code>ValidateForm</code>æ‰§è¡Œæ ¡éªŒçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰æ ¡éªŒå‡½æ•°ï¼Œå¹¶å¾—å‡ºæ ¡éªŒç»“æœã€‚</li></ol> <p>å…·ä½“ä»£ç å®ç°ï¼š</p> <p>å…ˆæ¥å®ç°ä¸€ä¸ª<code>Emitter</code>äº‹ä»¶ä¸­å¿ƒçš„ç±»</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> EmitterHandles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/type/utils'</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Emitter</span> <span class="token punctuation">{</span>
  <span class="token comment">// å­˜æ”¾äº‹ä»¶å‡½æ•°</span>
  <span class="token keyword">private</span> events<span class="token operator">:</span> EmitterHandles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// ç”¨äºæ³¨å†Œäº‹ä»¶</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> eventHandle<span class="token operator">:</span> <span class="token builtin">Function</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span> <span class="token operator">=</span> eventHandle
  <span class="token punctuation">}</span>
  <span class="token comment">// åˆ é™¤äº‹ä»¶</span>
  <span class="token function">off</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è§¦å‘äº‹ä»¶</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å½“äº‹ä»¶ä¸­å¿ƒå®ç°å¥½äº†ï¼Œè¿™é‡Œæ¥å®Œå–„ä¸€ä¸‹<code>ValidateForm</code>çš„ä»£ç </p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> nextTick<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Emitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/emitter'</span>
<span class="token keyword">type</span> <span class="token function-variable function">ValidateFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> emitterKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> modelKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> rulesKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ValidateForm'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†è¡¨å•æ•°æ®å’ŒéªŒè¯è§„åˆ™ä¼ é€’ç»™åä»£</span>
    <span class="token function">provide</span><span class="token punctuation">(</span>modelKey<span class="token punctuation">,</span> props<span class="token punctuation">.</span>model<span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span>rulesKey<span class="token punctuation">,</span> props<span class="token punctuation">.</span>rules<span class="token punctuation">)</span>
    <span class="token comment">// åˆ›å»ºäº‹ä»¶ä¸­å¿ƒçš„å®ä¾‹</span>
    <span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Emitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// å°†äº‹ä»¶ä¸­å¿ƒä¼ é€’ç»™åä»£</span>
    <span class="token function">provide</span><span class="token punctuation">(</span>emitterKey<span class="token punctuation">,</span> emitter<span class="token punctuation">)</span>
    <span class="token comment">// æ¥å—formItemç»„ä»¶è¿”å›çš„éªŒè¯å‡½æ•°</span>
    <span class="token comment">// å¹¶ä¸”å°†å…¶å­˜èµ·æ¥</span>
    emitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'acceptValidate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">validateFunc<span class="token operator">:</span> ValidateFunc</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      validateList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>validateFunc<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ç”¨äºæ¥å—ä¿å­˜åä»£è¿”å›çš„éªŒè¯æ–¹æ³•</span>
    <span class="token keyword">const</span> validateList<span class="token operator">:</span> ValidateFunc<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token comment">// éªŒè¯æ‰€æœ‰æ•°æ®çš„çŠ¶æ€</span>
    <span class="token keyword">const</span> <span class="token function-variable function">validate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ‰§è¡Œæ¯ä¸€ä¸ªå­è¡¨å•å‘é€è¿‡æ¥çš„éªŒè¯æ–¹æ³•</span>
     <span class="token keyword">return</span> validateList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">valid</span> <span class="token operator">=&gt;</span> valid<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      validate
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>okï¼Œç°åœ¨å®ç°äº†<code>validateForm</code>çš„é€»è¾‘ï¼Œæˆ‘ä»¬å†æ¥å†™ä¸€ä¸‹<code>validateFormItem</code>çš„é€»è¾‘</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form-group&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>label v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot; col-form-label&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>small v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;error.isError&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;invalid-feedback&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> error<span class="token punctuation">.</span>errorMessage <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Emitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/emitter'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> inject<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> emitterProviderKey<span class="token punctuation">,</span> modelKey<span class="token punctuation">,</span> rulesKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./ValidateForm.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ValidateFormItem'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> String<span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    prop<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¥å—Emitteräº‹ä»¶ä¸­å¿ƒ</span>
    <span class="token keyword">const</span> emitter <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Emitter<span class="token operator">&gt;</span><span class="token punctuation">(</span>emitterProviderKey<span class="token punctuation">)</span>
    <span class="token comment">// æ¥å—æ•°æ®å’Œæ ¡éªŒè§„åˆ™</span>
    <span class="token keyword">const</span> model <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>modelKey<span class="token punctuation">)</span>
    <span class="token keyword">const</span> rules <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rulesKey<span class="token punctuation">)</span>
    <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      isError<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      errorMessage<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// æ ¡éªŒå¯¹åº”çš„å­—æ®µæ•°æ®</span>
    <span class="token keyword">const</span> <span class="token function-variable function">validateField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> prop <span class="token operator">=</span> props<span class="token punctuation">.</span>prop
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token operator">&amp;&amp;</span> model <span class="token operator">&amp;&amp;</span> rules <span class="token operator">&amp;&amp;</span> rules<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> rules<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>item<span class="token punctuation">.</span><span class="token function">validator</span><span class="token punctuation">(</span>model<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            error<span class="token punctuation">.</span>isError <span class="token operator">=</span> <span class="token boolean">true</span>
            error<span class="token punctuation">.</span>errorMessage <span class="token operator">=</span> item<span class="token punctuation">.</span>message
            <span class="token keyword">return</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>result
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å½“ç»„ä»¶æŒ‚è½½çš„æ—¶å€™ï¼Œå°†è‡ªèº«çš„æ ¡éªŒå‡½æ•°å‘é€ç»™ValidateFormç»„ä»¶</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      emitter <span class="token operator">&amp;&amp;</span> emitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'acceptValidate'</span><span class="token punctuation">,</span> validateField<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      error
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>ä¸ºäº†æ›´è¯¦ç»†çš„ç†è§£ä¸Šé¢çš„è¿‡ç¨‹ï¼Œè¿™é‡Œæ¥ç”»ä¸€ä¸ªç¤ºæ„å›¾ï¼š</p> <ol><li>æ³¨å†Œäº‹ä»¶ï¼Œåˆ†å‘äº‹ä»¶ä¸­å¿ƒ</li></ol> <p><img alt="5" data-src="/vuepress-blog/img/post/2021-09-22-04/5.awebp" loading="lazy" class="lazy"></p> <ol start="2"><li>æ‰§è¡Œäº‹ä»¶ï¼Œå‘é€éªŒè¯å‡½æ•°</li></ol> <p><img alt="6" data-src="/vuepress-blog/img/post/2021-09-22-04/6.awebp" loading="lazy" class="lazy"></p> <p>æ•´ä¸ªè¿‡ç¨‹çš„æ€»ç»“å°±æ˜¯ï¼Œé¡¶å±‚ç»„ä»¶åˆ›å»ºå’Œåˆ†å‘äº‹ä»¶ä¸­å¿ƒï¼Œå¹¶æ³¨å†Œäº‹ä»¶ç›‘å¬å‡½æ•°ã€‚åä»£ç»„ä»¶æ‰§è¡Œè¯¥äº‹ä»¶ç„¶åå‘é€ä¿¡æ¯ï¼Œé¡¶å±‚ç»„ä»¶å›æ”¶ä¿¡æ¯ã€‚</p> <h4 id="tips"><a href="#tips" class="header-anchor">#</a> Tips</h4> <p>è¿™é‡Œå†æä¸€ç‚¹ï¼Œåœ¨ä½¿ç”¨<code>Emitter</code>è¿™ä¸ªäº‹ä»¶ä¸­å¿ƒçš„æ—¶å€™ï¼Œæ˜¯åœ¨<code>ValidateForm</code>çš„<code>setup</code>ä¸­å»åˆ›å»ºå¹¶ä¸”å»ä¸‹å‘çš„ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶ä¸­å¿ƒã€‚å°±åƒå¤§ä½¬çš„è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6903796293445877773" target="_blank" rel="noopener noreferrer">Vueç»„ä»¶é€šä¿¡æ–¹å¼åŠå…¶åº”ç”¨åœºæ™¯æ€»ç»“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸­æ€»ç»“åˆ°çš„ï¼Œäº‹ä»¶æ€»çº¿çš„å½¢å¼æ˜¯æœ‰ä¸€ä¸ªè‡´å‘½ç¼ºç‚¹çš„ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢ä¸Šæœ‰å¤šä¸ªå…¬å…±ç»„ä»¶ï¼Œæˆ‘ä»¬åªè¦å‘å…¶ä¸­çš„ä¸€ä¸ªä¼ é€’æ•°æ®ï¼Œä½†æ˜¯æ¯ä¸ªå…¬å…±ç»„ä»¶éƒ½ç»‘å®šäº†æ•°æ®æ¥å—çš„æ–¹æ³•ï¼Œé‚£å°±ä¼šå‡ºç°æ··ä¹±çš„æƒ…å†µã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ä¸æ˜¯ä¸€ä¸ªå…¨å±€çš„ï¼Œè€Œæ˜¯å•ä¸ªä½œç”¨åŸŸé‡Œé¢çš„ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒã€‚</p> <p>å› ä¸ºäº‹ä»¶ä¸­å¿ƒæ˜¯åœ¨å½“å‰ç»„ä»¶å†…éƒ¨åˆ›å»ºï¼Œå¹¶ä½¿ç”¨<code>provide</code>å‘ä¸‹å‘å¸ƒçš„ï¼Œè¿™æ ·å°±åªæœ‰å½“å‰ç»„ä»¶çš„åä»£æ‰èƒ½ä½¿ç”¨è¿™ä¸ªäº‹ä»¶ä¸­å¿ƒã€‚æ‰€ä»¥ï¼Œå°±ç®—ä¸€ä¸ªé¢ä¸Šå†™äº†å¤šä¸ª<code>ValidateForm</code>ï¼Œä»–ä»¬çš„æ ¡éªŒéƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ValidateForm ref<span class="token operator">=</span><span class="token string">&quot;validateFormRef1&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData1&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;rules&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;ç”¨æˆ·å&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;å¯†ç &quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateForm<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateForm ref<span class="token operator">=</span><span class="token string">&quot;validateFormRef2&quot;</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData2&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;rules&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;ç”¨æˆ·å&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ValidateFormItem label<span class="token operator">=</span><span class="token string">&quot;å¯†ç &quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fieldç»„ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateFormItem<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ValidateForm<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>ç¤ºæ„å›¾ï¼š</p> <p><img alt="7" data-src="/vuepress-blog/img/post/2021-09-22-04/7.awebp" loading="lazy" class="lazy"></p> <h4 id="äº‹ä»¶ä¸­å¿ƒæ€»ç»“"><a href="#äº‹ä»¶ä¸­å¿ƒæ€»ç»“" class="header-anchor">#</a> äº‹ä»¶ä¸­å¿ƒæ€»ç»“</h4> <p>ä¼˜ç‚¹ï¼š</p> <ol><li>å¯ä»¥è§£å†³Vue3ä¸èƒ½ä½¿ç”¨this.$childrençš„é—®é¢˜</li> <li>å¯ä»¥çµæ´»ä½¿ç”¨ï¼Œä¸å—ç»„ä»¶å±‚çº§çš„é™åˆ¶</li> <li>è¿™ç§é€šä¿¡æ–¹å¼ä¸å—æ¡†æ¶çš„é™åˆ¶</li></ol> <p>ç¼ºç‚¹ï¼š</p> <ol><li>éœ€è¦æ§åˆ¶å¥½äº‹ä»¶ä¸­å¿ƒçš„ä½œç”¨èŒƒå›´</li> <li>éœ€è¦æ§åˆ¶å¥½äº‹ä»¶åçš„è§„èŒƒ</li></ol> <h2 id="äº‹ä»¶ä¸­å¿ƒè¿›é˜¶"><a href="#äº‹ä»¶ä¸­å¿ƒè¿›é˜¶" class="header-anchor">#</a> äº‹ä»¶ä¸­å¿ƒè¿›é˜¶</h2> <p>å› ä¸ºåœ¨<code>Vue3</code>çš„<code>Composition API</code>ä¸­ï¼Œ<code>vue</code>çš„åŠŸèƒ½apiæ›´åŠ çš„é¢—ç²’åŒ–ã€‚æˆ‘ä»¬å¯ä»¥å¯¹äº‹ä»¶ä¸­å¿ƒè¿›è¡Œä¸€ä¸ªè‡ªå®šä¹‰éœ€æ±‚çš„æ”¹é€ ã€‚</p> <p>å¯ä»¥é€šè¿‡å¼•å…¥<code>reactive</code>, <code>ref</code>å¸®åŠ©æˆ‘ä»¬çš„äº‹ä»¶ä¸­å¿ƒå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå“åº”å¼çš„æ•°æ®ï¼Œå¯ä»¥å®ç°å½“äº‹ä»¶ä¸­å¿ƒè¿›è¡Œä¸€å®šé€šä¿¡è¡Œä¸ºæ—¶ï¼Œå»æ›´æ–°å¯¹åº”çš„è§†å›¾ã€‚è¿˜å¯ä»¥å¼•å…¥<code>computed</code>å®ç°è®¡ç®—å±æ€§çš„åŠŸèƒ½ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Emitter</span> <span class="token punctuation">{</span>
  <span class="token comment">// å“åº”å¼çš„æ•°æ®ä¸­å¿ƒ</span>
  <span class="token keyword">private</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> events<span class="token operator">:</span> EmitterHandles <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// è®°å½•å½“å‰äº‹ä»¶ä¸­å¿ƒ äº‹ä»¶çš„æ•°é‡</span>
  <span class="token keyword">private</span> eventLength <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>events<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token comment">// çœç•¥éƒ¨åˆ†ä»£ç </span>
<span class="token punctuation">}</span>
</code></pre></div><p>åŠ å…¥<code>watch,watchEffect</code>å®ç°æ•°æ®ç›‘å¬åšå‡ºä¸€å®šé€»è¾‘è¡Œä¸ºçš„åŠŸèƒ½ã€‚æˆ‘è®¤ä¸º<code>Composition API</code>å’Œ<code>React Hooks Api</code>éƒ½æ˜¯éå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒä»¬å…è®¸æˆ‘ä»¬å°†åŠŸèƒ½å‡½æ•°å½“æˆç§¯æœ¨ä¸€æ ·å»ä»»æ„ç»„è£…æˆæˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„åº”ç”¨ç¨‹åºã€‚</p> <h2 id="æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡"><a href="#æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡" class="header-anchor">#</a> æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡</h2> <p>æˆ‘è§‰å¾—å…¶å®å…¶ä»–çš„åœºæ™¯ï¼Œå…¶é€šä¿¡æ–¹å¼åŸºæœ¬éƒ½å·®ä¸å¤šäº†ï¼Œæ‰€è°“åƒç¯‡ä¸€å¾‹ã€‚åä»£å‘ç¥–å…ˆä¼ å€¼ï¼Œæˆ–è€…å…„å¼Ÿç»„ä»¶ä¼ å€¼ï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>vuex</code>æˆ–è€…æ˜¯<code>äº‹ä»¶ä¸­å¿ƒ</code>çš„æ–¹å¼ã€‚å…„å¼Ÿå±‚çº§ï¼Œæˆ–è€…ç›¸é‚»å±‚çº§çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>ref</code>,<code>$parent</code>ç­‰æ–¹å¼ã€‚</p> <h2 id="æœ€å"><a href="#æœ€å" class="header-anchor">#</a> æœ€å</h2> <p>æˆ‘ä¸ªäººå¯¹<code>Vue3</code>è¿˜æ˜¯éå¸¸çœ‹å¥½çš„ï¼Œç›®å‰å¯¹äºå…¬å¸çš„éƒ¨åˆ†æ—§é¡¹ç›®ï¼Œä¹Ÿæ€è€ƒå¦‚ä½•å»ç”¨<code>Vue3</code>å»é‡æ„å®ƒã€‚ç„¶åæˆ‘ä¹Ÿæ˜¯å› ä¸ºåˆšå¥½çœ‹äº†ç¤¾åŒºå¤§ä½¬çš„æ–‡ç« ç»å¯¹éå¸¸æœ‰æ„æ€ï¼Œäºæ˜¯æ¥äº†å…´è¶£å†™äº†ä¸€ä¸ª<code>Vue3</code>é€šä¿¡æ€»ç»“ğŸ˜‚ï¼Œå¯èƒ½è¿˜æœ‰å¾ˆå¤šåœ°æ–¹è¯´çš„ä¸æ˜¯å¾ˆåˆ°ä½ã€‚</p> <p>å¦‚æœæœ‰é”™è¯¯æˆ–è€…æ˜¯è¡¥å……ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œå¦‚æœè§‰å¾—è¿˜è¡Œå¯¹ä½ æœ‰å¸®åŠ©å°±åŠ³çƒ¦ç‚¹ä¸ªèµå“ˆå“ˆï¼ŒğŸ™è°¢è°¢å„ä½é“ä»”é“å¥³ã€‚</p></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      å‘å¸ƒæ—¶é—´ : 2021-09-22
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/vuepress-blog/posts/2021/09/22/_06.html" class="post-link" data-v-4e23451f>
      ä¸Šä¸€ç¯‡ : ã€Vue2 VS Vue3 ã€‘- æµ…æ
    </a> <a href="/vuepress-blog/posts/2021/09/22/_04.html" class="post-link" data-v-4e23451f>
      ä¸‹ä¸€ç¯‡ : Vueçˆ¶å­ç»„ä»¶ä¼ å€¼ï¼Œå­ç»„ä»¶ä¸­propsçš„å¤šç§ç±»å‹æ€»ç»“
    </a></section></section> <!----></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" data-v-9d847660><img src="/vuepress-blog/img/avatar.jpg" alt="William Wu" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      William Wu
    </section> <section class="info-desc" data-v-9d847660>Nothing is true,everything is permitted.(ä¸‡ç‰©çš†è™š,ä¸‡äº‹çš†å…ã€‚)</section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="Guangzhou City, China" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>Guangzhou City, China</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          Guangzhou City, China
        </span></span></section> <!----> <section data-v-9d847660><a href="mailto:williamwutianyu@qq.com" title="williamwutianyu@qq.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>williamwutianyu@qq.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          williamwutianyu@qq.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/william-wu97" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: william-wu97" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: william-wu97</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>æ–‡ç« ç›®å½•</span> <div class="post-nav-toc"><ul><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#å‰è¨€">å‰è¨€</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</a><ul><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#props">props</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#emit">emit</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#v-model">v-model</a></li></ul></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#çˆ¶ä¼ å­">çˆ¶ä¼ å­</a><ul><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#refsæ–¹å¼">refsæ–¹å¼</a></li></ul></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#çˆ¶ä¼ æ›´æ·±çš„åä»£">çˆ¶ä¼ æ›´æ·±çš„åä»£</a><ul><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#provide-inject">provide / inject</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#vuex">vuex</a></li></ul></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#å­ä¼ çˆ¶">å­ä¼ çˆ¶</a><ul><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#refsæ–¹å¼-2">refsæ–¹å¼</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#äº‹ä»¶ä¸­å¿ƒ">äº‹ä»¶ä¸­å¿ƒ</a></li></ul></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#äº‹ä»¶ä¸­å¿ƒè¿›é˜¶">äº‹ä»¶ä¸­å¿ƒè¿›é˜¶</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡">æ·±å±‚åä»£å‘é¡¶å±‚é€šä¿¡ï¼Œå…„å¼Ÿé€šä¿¡</a></li><li><a href="/vuepress-blog/posts/2021/09/22/_05.html#æœ€å">æœ€å</a></li></ul></div></div> <!----></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/william-wu97" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: william-wu97" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: william-wu97</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <p class="footer-text" data-v-1375e54c><span data-v-1375e54c>Powered by </span> <a href="https://github.com/vuejs/vuepress" target="_blank" data-v-1375e54c>
      VuePress
    </a> <span data-v-1375e54c> | </span> <a href="https://github.com/meteorlxy/vuepress-theme-meteorlxy" target="_blank" data-v-1375e54c>
        meteorlxy
      </a></p> <!----></footer></div><div class="global-ui"><!----><!----><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div></div></div>
    <script src="/vuepress-blog/assets/js/app.6e00fe84.js" defer></script><script src="/vuepress-blog/assets/js/7.2d53fe4f.js" defer></script><script src="/vuepress-blog/assets/js/45.4ee86323.js" defer></script>
  </body>
</html>
